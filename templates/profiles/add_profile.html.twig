{% extends 'base.html.twig' %}

{% block title %} {% trans %}Create your profile {% endtrans %}{% endblock %}
{% block stylesheets %}
    {{ parent() }}
{% endblock %}

{% block body %}
    <div class="container">
        {% set formErrors = profileForm.vars.errors.form.getErrors(true) %}
        {% if formErrors | length %}

            <ul class="col-5 alert-danger" >
                {% for error in formErrors %}
                    <li >{{ error.message }}</li>
                {% endfor %}
            </ul>
            {% for message in app.flashes('success') %}
                <div class="alert alert-success">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
        {% for type, messages in app.session.flashbag.all() %}
        {% for message in messages %}
        <div class="alert-{{ type }}" role="alert">
            {{ message}}
        </div>
        {% endfor %}
        {% endfor %}
        <br>
            <div class="col ">
                <h1 > {% trans %}Create new profile {% endtrans %}</h1>
            </div>
            <div class="col-5">
                {{ form_start(profileForm, {'attr': {'class': 'form-horizontal', 'id':'addForm'}}) }}

                {{ form_label(profileForm.nickname) }}<br>
                {{ form_widget(profileForm.nickname, {'attr': {'class': 'form-control', 'required': 'true'}}) }}<br>
                {{ form_label(profileForm.age) }}<br>
                {{ form_widget(profileForm.age, {'attr': {'class': 'form-control','required': 'true'}}) }}<br>
                {{ form_label(profileForm.profilePin) }}<br>
                {{ form_widget(profileForm.profilePin, {'attr': {'class': 'form-control'}}) }}<br>

                <button  class="btn  btn-success" type="submit">
                    {% trans %}    Add profile {% endtrans %}
                </button>
                //hidden
                {{ form_end(profileForm) }}
                <hr>
                <button  class="btn btn-info" onclick="window.location.href='/'">
                    {% trans %}  Back to start page {% endtrans %}</button>
            </div>


    </div>
    {% block javascripts %}
        {{ parent() }}
        <script src="{{ asset('js /addNewField.js') }}"></script>
    {% endblock %}
{% endblock %}
